<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Multi Keygen Center</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(135deg, #1c1c1c, #2d2d2d);
      color: #fff;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 15px;
    }
    .card {
      background: #222;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.6);
      width: 100%;
      max-width: 420px;
      text-align: center;
      margin-bottom: 20px;
    }
    .title {
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 15px;
      color: #3b9eff;
      letter-spacing: 1px;
    }
    label {
      display: block;
      margin: 10px 0 5px;
      font-weight: 500;
    }
    select, button, a.telegram-btn {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      outline: none;
      display: inline-block;
      text-decoration: none;
    }
    select {
      background: #333;
      color: #fff;
    }
    button {
      margin-top: 10px;
      background: linear-gradient(to right, #2bb8e9, #3b5aff);
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.1s ease, filter 0.2s ease;
    }
    button:hover { filter: brightness(1.1); }
    button:active { transform: scale(0.98); }
    .console-container {
      margin-top: 20px;
      text-align: left;
    }
    .console-title {
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 6px;
      color: #aaa;
    }
    #console {
      background: #111;
      color: #0f0;
      font-family: monospace;
      padding: 10px;
      height: 140px;
      overflow-y: auto;
      border-radius: 8px;
      font-size: 13px;
      white-space: pre-line;
    }
    .copy-btn {
      margin-top: 10px;
      background: linear-gradient(to right, #28a745, #3bd16f);
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    .telegram-btn {
      margin-top: 20px;
      background: linear-gradient(to right, #0088cc, #34ace0);
      color: #fff;
      font-weight: bold;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="title">ðŸŽ® Multi Keygen Center</div>

    <label for="gameSelect">Select Game</label>
    <select id="gameSelect">
      <option value="MLBB">Mobile Legends</option>
      <option value="FF">Free Fire</option>
      <option value="PUBG">PUBG</option>
    </select>

    <button class="generateBtn" data-type="cimod">âš¡ Generate Key (CiMOD)</button>
    <button class="generateBtn" data-type="aamodz">âš¡ Generate Key (AA-MODZ)</button>
    <button class="generateBtn" data-type="aadirect">âš¡ Generate Key (AA-DIRECT)</button>

    <div class="console-container">
      <div class="console-title">Console Log</div>
      <div id="console">[Waiting for action...]</div>
      <button id="copyBtn" class="copy-btn">ðŸ“‹ Copy Key</button>
    </div>

    <a href="https://t.me/kantotanmalala123" target="_blank" class="telegram-btn">ðŸ“© Contact on Telegram</a>
  </div>

  <script>
    const logBox = document.getElementById("console");
    const copyBtn = document.getElementById("copyBtn");
    let lastKey = "";

    function log(msg, isKey = false) {
      if (isKey) {
        lastKey = msg.split("\n")[1]?.trim(); // store only the raw key
      }
      logBox.textContent += msg + "\n";
      logBox.scrollTop = logBox.scrollHeight;
    }

    // API endpoints through CORS proxy
    const apiMap = {
      cimod: "https://corsproxy.io/?url=" + encodeURIComponent("https://all-in-one-keygen-h7c5hzhym-blatz-bobos-projects.vercel.app/api/genkey"),
      aamodz: "https://corsproxy.io/?url=" + encodeURIComponent("https://aa-pro-launcher-keygen.vercel.app/api/genkey"),
      aadirect: "https://corsproxy.io/?url=" + encodeURIComponent("https://cimod-keygen-api.vercel.app/api/genkey")
    };

    document.querySelectorAll(".generateBtn").forEach(btn => {
      btn.addEventListener("click", async function(e) {
        e.preventDefault();
        const selectedGame = document.getElementById("gameSelect").value;
        const type = btn.dataset.type;
        const url = apiMap[type] + encodeURIComponent("?game=" + selectedGame);

        logBox.textContent = ""; // clear console each time
        log("ðŸŽ¯ Requesting key from " + type.toUpperCase() + "...");

        try {
          const resp = await fetch(url);
          const key = await resp.text();
          const cleanKey = key.trim();

          // Unified format
          log("ðŸ”‘ Key : Your Key\n" + cleanKey, true);
        } catch (err) {
          log("âš ï¸ Error: " + err, false);
        }
      });
    });

    copyBtn.addEventListener("click", () => {
      if (!lastKey) {
        alert("No key to copy yet!");
        return;
      }
      navigator.clipboard.writeText(lastKey).then(() => {
        alert("âœ… Key copied: " + lastKey);
      });
    });
  </script>
</body>
</html>
